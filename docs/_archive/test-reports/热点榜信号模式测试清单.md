# 热点榜信号模式测试清单

## 📋 测试目标
验证两种热点榜信号模式的正确性和切换功能

---

## 1️⃣ 配置界面测试

### 测试步骤
1. 点击右上角"信号阈值配置"按钮
2. 找到"热点榜信号模式"选项

### 验证点
- [ ] 下拉框有两个选项：
  - `总分TOP信号`
  - `最新热点TOP信号`
- [ ] 默认选中"总分TOP信号"
- [ ] 切换选项时，下方说明文本会相应更新

### 说明文本验证

#### 总分TOP信号模式
- [ ] 标题："📊 总分TOP信号"
- [ ] 说明包含：
  - "基于综合评分排名的即时判断"
  - "信号格式：热点榜TOP100、热点榜TOP500"
  - "快速筛选当日综合得分龙头股票"
  - "权重25%（固定），阈值可调节"

#### 最新热点TOP信号模式
- [ ] 标题："🔥 最新热点TOP信号"
- [ ] 说明包含：
  - "基于'最新热点'模块14天聚合数据"
  - "信号格式：TOP100·5次（区间·出现次数）"
  - "发现持续出现的强势热点股票"
  - "权重25%基础，出现12次×1.2、10次×1.1、8次×1.05递增"

---

## 2️⃣ 总分TOP信号模式测试

### 测试步骤
1. 配置中选择"总分TOP信号"
2. 点击"应用配置"
3. 进入"行业趋势分析" → 选择某个行业（如"通信设备"）
4. 查看成分股列表中的信号

### 验证点
- [ ] 信号格式为：`热点榜TOP100` 或 `热点榜TOP500`
- [ ] 根据当日排名即时显示（排名靠前才有信号）
- [ ] 不显示出现次数
- [ ] 权重为25%

### API测试
```bash
# 测试总分TOP信号
curl "http://localhost:8000/api/industry/通信设备/stocks?hot_list_mode=instant&hot_list_top=100"
```

验证返回的信号格式：
- [ ] signals中包含"热点榜TOP100"或"热点榜TOP500"

---

## 3️⃣ 最新热点TOP信号模式测试

### 测试步骤
1. 配置中选择"最新热点TOP信号"
2. 点击"应用配置"
3. 进入"行业趋势分析" → 选择某个行业（如"通信设备"）
4. 查看成分股列表中的信号

### 验证点
- [ ] 信号格式为：`TOP100·X次`、`TOP200·X次` 等
- [ ] 显示14天内出现次数
- [ ] 区间为固定6个：100/200/400/600/800/1000
- [ ] 次数越多的股票权重越高

### API测试
```bash
# 测试最新热点TOP信号
curl "http://localhost:8000/api/industry/通信设备/stocks?hot_list_mode=frequent"
```

验证返回的信号格式：
- [ ] signals中包含"TOP100·5次"或"TOP200·3次"等格式

---

## 4️⃣ 模式切换测试

### 测试步骤
1. 先选择"总分TOP信号"，查看某个行业的信号
2. 切换为"最新热点TOP信号"，刷新页面
3. 再次查看相同行业的信号

### 验证点
- [ ] 信号格式确实发生变化
- [ ] 前后信号内容不同（一个显示次数，一个不显示）
- [ ] 配置持久化（刷新页面后配置不变）

---

## 5️⃣ 股票查询模块测试

### 测试步骤
1. 在不同模式下，查询同一只股票（如"300394"天孚通信）
2. 对比两种模式下的信号差异

### 验证点

#### 总分TOP模式
- [ ] 信号为"热点榜TOP100"等简单格式
- [ ] 基于当日排名

#### 最新热点TOP模式
- [ ] 信号为"TOP100·5次"等格式
- [ ] 显示14天出现次数

---

## 6️⃣ 特殊情况测试

### 测试场景1：股票未上榜
- [ ] 总分TOP模式：排名不在TOP100/500，无热点榜信号
- [ ] 最新热点TOP模式：14天内未出现在TOP1000，无热点榜信号

### 测试场景2：热点缓存数据
- [ ] 最新热点TOP模式依赖缓存数据
- [ ] 启动时预加载3天数据
- [ ] 缓存未命中时会自动加载

### 测试场景3：信号说明文本
- [ ] 行业详情页面"多维度信号说明"显示两种模式
- [ ] 股票查询模块说明为"总分TOP或最新热点TOP（可配置）"

---

## 7️⃣ 性能测试

### 验证点
- [ ] 模式切换响应迅速（<1秒）
- [ ] 最新热点TOP信号计算不影响页面加载速度
- [ ] 缓存命中率高（O(1)查询）

---

## 8️⃣ 文档一致性检查

### 验证点
- [ ] 配置界面说明与文档一致
- [ ] 信号格式符合文档定义
- [ ] 权重和阈值符合文档规范

---

## ✅ 测试通过标准

1. 两种模式均能正常工作
2. 模式切换流畅，配置生效
3. 信号格式正确，符合预期
4. 性能良好，无明显延迟
5. 文档和实现一致

---

## 📝 测试记录

| 测试项 | 状态 | 备注 | 测试时间 |
|--------|------|------|---------|
| 配置界面 | ⬜ |  |  |
| 总分TOP模式 | ⬜ |  |  |
| 最新热点TOP模式 | ⬜ |  |  |
| 模式切换 | ⬜ |  |  |
| 股票查询模块 | ⬜ |  |  |
| 特殊情况 | ⬜ |  |  |
| 性能测试 | ⬜ |  |  |
| 文档一致性 | ⬜ |  |  |
